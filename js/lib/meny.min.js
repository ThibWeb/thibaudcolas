var Meny={create:function(){var b=function(){k||(k=!0,Meny.addClass(a.wrapper,"meny-active"),a.cover.style.height=a.contents.scrollHeight+"px",a.cover.style.visibility="visible",s?(a.cover.style.opacity=1,a.contents.style[Meny.prefix("transform")]=C,a.menu.style[Meny.prefix("transform")]=D):(l&&l.stop(),l=Meny.animate(a.menu,E,500),m&&m.stop(),m=Meny.animate(a.contents,F,500),n&&n.stop(),n=Meny.animate(a.cover,{opacity:1},500)),Meny.dispatchEvent(a.menu,"open"))},c=function(){k&&(k=!1,Meny.removeClass(a.wrapper,
"meny-active"),s?(a.cover.style.visibility="hidden",a.cover.style.opacity=0,a.contents.style[Meny.prefix("transform")]=v,a.menu.style[Meny.prefix("transform")]=w):(l&&l.stop(),l=Meny.animate(a.menu,x,500),m&&m.stop(),m=Meny.animate(a.contents,y,500),n&&n.stop(),n=Meny.animate(a.cover,{opacity:0},500,function(){a.cover.style.visibility="hidden"})),Meny.dispatchEvent(a.menu,"close"))},d=function(){z=!0},g=function(a){z||(a=a.clientX-A,200<a?c():a<f.threshold&&b())},j=function(){z=!1},r=function(a){p=
a.touches[0].clientX-A;G=a.touches[0].clientY-H;t=q=null;Meny.bindEvent(document,"touchmove",h)},h=function(a){q=a.touches[0].clientX-A;t=a.touches[0].clientY-H;var b=null;Math.abs(q-p)>Math.abs(t-G)&&(q<p-f.threshold?b=u:q>p+f.threshold&&p<f.threshold&&(b=B));b&&b()&&a.preventDefault()},i=function(){Meny.unbindEvent(document,"touchmove",h);null===q&&null===t&&200>p&&c()},B=function(){if(!k)return b(),!0},u=function(){if(k)return c(),!0},s="WebkitPerspective"in document.body.style||"MozPerspective"in
document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,f={width:200,threshold:50,overlap:5,transitionDuration:"0.5s",transitionEasing:"ease"},a={menu:document.querySelector("#meny"),contents:document.querySelector("#content"),wrapper:document.querySelector("#meny").parentNode,cover:null},A=a.wrapper.offsetLeft,H=a.wrapper.offsetTop,p=null,G=null,q=null,t=null,k=!1,z=!1,w,D,x,E,v,C,y,F,l,m,n;v=D="";w="translateX( -100% ) translateX( "+
f.overlap+"px ) scale( 1.01 ) rotateY( -30deg )";C="translateX( 200px ) rotateY( 15deg )";x={left:"-"+(200-f.overlap)+"px"};E={left:"0px"};y={left:"0px"};F={left:"200px"};Meny.addClass(a.wrapper,"meny-left");a.wrapper.style[Meny.prefix("perspective")]="800px";a.wrapper.style[Meny.prefix("perspectiveOrigin")]="0 50%";a.cover=document.createElement("div");a.cover.style.position="absolute";a.cover.style.display="block";a.cover.style.width="100%";a.cover.style.height="100%";a.cover.style.left=0;a.cover.style.top=
0;a.cover.style.zIndex=1E3;a.cover.style.visibility="hidden";a.cover.style.opacity=0;try{a.cover.style.background="rgba( 0, 0, 0, 0.4 )",a.cover.style.background="-ms-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",a.cover.style.background="-moz-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",a.cover.style.background="-webkit-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)"}catch(I){}s&&(a.cover.style[Meny.prefix("transition")]="all "+f.transitionDuration+
" "+f.transitionEasing);a.contents.appendChild(a.cover);var e=a.menu.style;e.width="200px";e.height="100%";e.position="fixed";e.display="block";e.zIndex=100;s?(e[Meny.prefix("transform")]=w,e[Meny.prefix("transformOrigin")]="100% 50%",e[Meny.prefix("transition")]="all "+f.transitionDuration+" "+f.transitionEasing):Meny.extend(e,x);e=a.contents.style;s?(e[Meny.prefix("transform")]=v,e[Meny.prefix("transformOrigin")]="0 50%",e[Meny.prefix("transition")]="all "+f.transitionDuration+" "+f.transitionEasing):
(e.position=e.position.match(/relative|absolute|fixed/gi)?e.position:"relative",Meny.extend(e,y));"ontouchstart"in window?(Meny.bindEvent(document,"touchstart",r),Meny.bindEvent(document,"touchend",i)):(Meny.bindEvent(document,"mousedown",d),Meny.bindEvent(document,"mouseup",j),Meny.bindEvent(document,"mousemove",g));return{open:b,close:c,isOpen:function(){return k},addEventListener:function(b,c){a.menu&&Meny.bindEvent(a.menu,b,c)},removeEventListener:function(b,c){a.menu&&Meny.unbindEvent(a.menu,
b,c)}}},animate:function(b,c,d,g){var j=function(){var c=1-Math.pow(1-(Date.now()-B)/d,5),f;for(f in h){var a=h[f];b.style[f]=a.start+(a.end-a.start)*c+a.unit}1>c?u=setTimeout(j,1E3/60):(g&&g(),r())},r=function(){clearTimeout(u)},h={},i;for(i in c)h[i]={start:parseFloat(b.style[i])||0,end:parseFloat(c[i]),unit:"string"===typeof c[i]&&c[i].match(/px|em|%/gi)?c[i].match(/px|em|%/gi)[0]:""};var B=Date.now(),u;j();return{stop:r}},extend:function(b,c){for(var d in c)b[d]=c[d]},prefix:function(b,c){for(var d=
b.slice(0,1).toUpperCase()+b.slice(1),g=["Webkit","Moz","O","ms"],j=0,r=g.length;j<r;j++){var h=g[j];if("undefined"!==typeof(c||document.body).style[h+d])return h+d}return b},addClass:function(b,c){b.className=b.className.replace(/\s+$/gi,"")+" "+c},removeClass:function(b,c){b.className=b.className.replace(c,"")},bindEvent:function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)},unbindEvent:function(b,c,d){b.removeEventListener?b.removeEventListener(c,d,!1):b.detachEvent("on"+
c,d)},dispatchEvent:function(b,c,d){if(b){var g=document.createEvent("HTMLEvents",1,2);g.initEvent(c,!0,!0);Meny.extend(g,d);b.dispatchEvent(g)}},getQuery:function(){var b={};location.search.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,function(c){b[c.split("=").shift()]=c.split("=").pop()});return b}};"function"!==typeof Date.now&&(Date.now=function(){return(new Date).getTime()});
