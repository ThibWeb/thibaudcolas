// FitText.coffee
var $;$=jQuery;$.fn.fitText=function(c,e){var b;null==c&&(c=1);b={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};e&&$.extend(b,e);return this.each(function(){var d,a;d=$(this);a=function(){var a;a=d.width()/(10*c);return d.css("font-size",Math.max(Math.min(a,parseFloat(b.maxFontSize)),parseFloat(b.minFontSize)))};a();return $(window).resize(a)})};

/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-scrollspy.js, bootstrap-tooltip.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.offset(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var b=this,c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.detach(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);c[c.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1}}(window.jQuery)

// Meny.js
var Meny={create:function(){var b=function(){k||(k=!0,Meny.addClass(a.wrapper,"meny-active"),a.cover.style.height=a.contents.scrollHeight+"px",a.cover.style.visibility="visible",s?(a.cover.style.opacity=1,a.contents.style[Meny.prefix("transform")]=C,a.menu.style[Meny.prefix("transform")]=D):(l&&l.stop(),l=Meny.animate(a.menu,E,500),m&&m.stop(),m=Meny.animate(a.contents,F,500),n&&n.stop(),n=Meny.animate(a.cover,{opacity:1},500)),Meny.dispatchEvent(a.menu,"open"))},c=function(){k&&(k=!1,Meny.removeClass(a.wrapper,
"meny-active"),s?(a.cover.style.visibility="hidden",a.cover.style.opacity=0,a.contents.style[Meny.prefix("transform")]=v,a.menu.style[Meny.prefix("transform")]=w):(l&&l.stop(),l=Meny.animate(a.menu,x,500),m&&m.stop(),m=Meny.animate(a.contents,y,500),n&&n.stop(),n=Meny.animate(a.cover,{opacity:0},500,function(){a.cover.style.visibility="hidden"})),Meny.dispatchEvent(a.menu,"close"))},d=function(){z=!0},g=function(a){z||(a=a.clientX-A,200<a?c():a<f.threshold&&b())},j=function(){z=!1},r=function(a){p=
a.touches[0].clientX-A;G=a.touches[0].clientY-H;t=q=null;Meny.bindEvent(document,"touchmove",h)},h=function(a){q=a.touches[0].clientX-A;t=a.touches[0].clientY-H;var b=null;Math.abs(q-p)>Math.abs(t-G)&&(q<p-f.threshold?b=u:q>p+f.threshold&&p<f.threshold&&(b=B));b&&b()&&a.preventDefault()},i=function(){Meny.unbindEvent(document,"touchmove",h);null===q&&null===t&&200>p&&c()},B=function(){if(!k)return b(),!0},u=function(){if(k)return c(),!0},s="WebkitPerspective"in document.body.style||"MozPerspective"in
document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,f={width:200,threshold:50,overlap:5,transitionDuration:"0.5s",transitionEasing:"ease"},a={menu:document.querySelector("#meny"),contents:document.querySelector("#content"),wrapper:document.querySelector("#meny").parentNode,cover:null},A=a.wrapper.offsetLeft,H=a.wrapper.offsetTop,p=null,G=null,q=null,t=null,k=!1,z=!1,w,D,x,E,v,C,y,F,l,m,n;v=D="";w="translateX( -100% ) translateX( "+
f.overlap+"px ) scale( 1.01 ) rotateY( -30deg )";C="translateX( 200px ) rotateY( 15deg )";x={left:"-"+(200-f.overlap)+"px"};E={left:"0px"};y={left:"0px"};F={left:"200px"};Meny.addClass(a.wrapper,"meny-left");a.wrapper.style[Meny.prefix("perspective")]="800px";a.wrapper.style[Meny.prefix("perspectiveOrigin")]="0 50%";a.cover=document.createElement("div");a.cover.style.position="absolute";a.cover.style.display="block";a.cover.style.width="100%";a.cover.style.height="100%";a.cover.style.left=0;a.cover.style.top=
0;a.cover.style.zIndex=1E3;a.cover.style.visibility="hidden";a.cover.style.opacity=0;try{a.cover.style.background="rgba( 0, 0, 0, 0.4 )",a.cover.style.background="-ms-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",a.cover.style.background="-moz-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",a.cover.style.background="-webkit-linear-gradient(left, rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)"}catch(I){}s&&(a.cover.style[Meny.prefix("transition")]="all "+f.transitionDuration+
" "+f.transitionEasing);a.contents.appendChild(a.cover);var e=a.menu.style;e.width="200px";e.height="100%";e.position="fixed";e.display="block";e.zIndex=100;s?(e[Meny.prefix("transform")]=w,e[Meny.prefix("transformOrigin")]="100% 50%",e[Meny.prefix("transition")]="all "+f.transitionDuration+" "+f.transitionEasing):Meny.extend(e,x);e=a.contents.style;s?(e[Meny.prefix("transform")]=v,e[Meny.prefix("transformOrigin")]="0 50%",e[Meny.prefix("transition")]="all "+f.transitionDuration+" "+f.transitionEasing):
(e.position=e.position.match(/relative|absolute|fixed/gi)?e.position:"relative",Meny.extend(e,y));"ontouchstart"in window?(Meny.bindEvent(document,"touchstart",r),Meny.bindEvent(document,"touchend",i)):(Meny.bindEvent(document,"mousedown",d),Meny.bindEvent(document,"mouseup",j),Meny.bindEvent(document,"mousemove",g));return{open:b,close:c,isOpen:function(){return k},addEventListener:function(b,c){a.menu&&Meny.bindEvent(a.menu,b,c)},removeEventListener:function(b,c){a.menu&&Meny.unbindEvent(a.menu,
b,c)}}},animate:function(b,c,d,g){var j=function(){var c=1-Math.pow(1-(Date.now()-B)/d,5),f;for(f in h){var a=h[f];b.style[f]=a.start+(a.end-a.start)*c+a.unit}1>c?u=setTimeout(j,1E3/60):(g&&g(),r())},r=function(){clearTimeout(u)},h={},i;for(i in c)h[i]={start:parseFloat(b.style[i])||0,end:parseFloat(c[i]),unit:"string"===typeof c[i]&&c[i].match(/px|em|%/gi)?c[i].match(/px|em|%/gi)[0]:""};var B=Date.now(),u;j();return{stop:r}},extend:function(b,c){for(var d in c)b[d]=c[d]},prefix:function(b,c){for(var d=
b.slice(0,1).toUpperCase()+b.slice(1),g=["Webkit","Moz","O","ms"],j=0,r=g.length;j<r;j++){var h=g[j];if("undefined"!==typeof(c||document.body).style[h+d])return h+d}return b},addClass:function(b,c){b.className=b.className.replace(/\s+$/gi,"")+" "+c},removeClass:function(b,c){b.className=b.className.replace(c,"")},bindEvent:function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)},unbindEvent:function(b,c,d){b.removeEventListener?b.removeEventListener(c,d,!1):b.detachEvent("on"+
c,d)},dispatchEvent:function(b,c,d){if(b){var g=document.createEvent("HTMLEvents",1,2);g.initEvent(c,!0,!0);Meny.extend(g,d);b.dispatchEvent(g)}},getQuery:function(){var b={};location.search.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,function(c){b[c.split("=").shift()]=c.split("=").pop()});return b}};"function"!==typeof Date.now&&(Date.now=function(){return(new Date).getTime()});
